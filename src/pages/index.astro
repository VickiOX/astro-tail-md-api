---
import MainLayout from "../layouts/MainLayout.astro";
import Button from '../components/Button.astro';
import Image from "astro/components/Image.astro";
import danceMotherFuckerDance from '../assets/images/dance-motherfucker-dance.jpg';
const nyheder = await Astro.glob('./nyheder/*.md');
const sorteredenyheder = nyheder.sort((a, b) => Date.parse(b.frontmatter.dato) - Date.parse(a.frontmatter.dato));
const udvalgtenyheder = sorteredenyheder.slice(0, 4);
---
<MainLayout title="Titel">
	<article class="relative mb-16">
		<Image src={danceMotherFuckerDance} alt="dance motherfucker dance" class=""/>
		<div class="@container absolute top-0 left-1/4 w-1/2 ">
			<h1 class="text-persianmosaic-100 text-[14cqw] mt-[22cqi] font-bold">Dance, motherfucker, dance!</h1>
		</div>
		
	</article>

	<div class="max-w-5xl mx-auto p-4">	
		<section class="mb-16">
			<h2 class="text-persianmosaic-500 mb-8 text-4xl font-bold pl-3">Nyheder</h2>
			<!-- alt hvad der omhandler lists til nyheder -->
			<ul>
				{udvalgtenyheder.map(post => 
				<li class="border border-persianmosaic-900 border-opacity-30 m-4 flex shadow-persianmosaic-200 shadow-md">
					<div class=" basis-1/3 ">
					<img src={post.frontmatter.coverimage} alt={post.frontmatter.coveralt} class=" w-full object-cover h-full" />
					</div>
					<div class="basis-2/3 p-4">
						<h3 class="mb-4"><a href={post.url} class="text-xl underline-offset-1 underline font-semibold text-persianmosaic-500 hover:cursor-pointer">{post.frontmatter.title}</a></h3>
						<span >{post.frontmatter.dato}</span>
						<p class="my-4">{post.frontmatter.kortversion}</p>
						<a href={post.url} class="">Læs mere...</a>
					</div>
				</li>
				)}
			</ul>
			<!-- slut på alt hvad der omhandler lists til nyheder -->
		</section>

		<section x-data="{ alledansehold: []}" x-init="alledansehold = await (await fetch('dansehold.json')).json(); alledansehold.reverse();" class="mb-16">
			<h2 class=" text-persianmosaic-500 my-8 text-4xl font-bold pl-3">Dansehold Efterår 2024</h2>
			<!-- alt hvad der omhandler cards til dansehold -->
			<section class="grid grid-cols-2">
				<template x-for="dansehold in alledansehold" :key="dansehold.id">	
					<article class="border border-persianmosaic-900 border-opacity-20 m-3 shadow-persianmosaic-200 shadow-md ">
						<a href="#">
							<header class=" relative ">
								<img :src="dansehold.holdbillede" :alt="dansehold.hodlbilledealt" class="w-full h-[300px] object-cover">

								<div class="absolute top-4 py-4 px-2 bg-persianmosaic-200 transition-all duration-300 ease-out delay-100" x-show="">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 ">
										<path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />
										<path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z" />
										</svg>
								</div>

								<div class="absolute top-4 py-4 px-2 bg-persianmosaic-200 opacity-0 flex hover:opacity-100 ease-out duration-100 delay-100" x-show="">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 ">
										<path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z" />
										<path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z" />
										</svg>
								  </svg><p class="pl-1 ">Nyt hold!</p></div>

								 


								<div class="transition-all duration-300 ease-out delay-100">
									<div class="absolute bottom-4 py-4 px-2 bg-persianmosaic-600 text-persianmosaic-100 block " x-show="dansehold.rabat">
										<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
											<path stroke-linecap="round" stroke-linejoin="round" d="m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z" />
										  </svg>
										  
									</div>

									<div class="absolute bottom-4  py-4 px-2 bg-persianmosaic-600 text-persianmosaic-100 opacity-0 flex hover:opacity-100 ease-out duration-100" delay-100 x-show="dansehold.rabat">
										<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
											<path stroke-linecap="round" stroke-linejoin="round" d="m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z" />
										  </svg>
										  
								  		<span class="ml-1"  x-text="dansehold.rabatsats"></span><p class="pl-1 ">Rabat</p>
									</div>
								</div>
									
									

								<div class="absolute top-[72px] py-4 px-2 bg-persianmosaic-800 text-persianmosaic-100 transition-all duration-300 ease-out delay-100" x-show="(dansehold.pladserpaaholdet - dansehold.antaldeltagere) < 5">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
									<path stroke-linecap="round" stroke-linejoin="round" d="M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46" />
								  </svg>
								</div>

								

								  <div class="absolute top-[72px] py-4 px-5 bg-persianmosaic-800 text-persianmosaic-100 opacity-0 flex hover:opacity-100 ease-out duration-200 delay-100" x-show="(dansehold.pladserpaaholdet - dansehold.antaldeltagere) < 5"><p class="pl-1">Kun få pladser tilbage!</p></div>
								  
							</header>
							<section class=""> <!-- indsæt heroicons til evt tid, alder, niveau, deltager og lokale for at skabe et bedre design -->
								<h3 class="text-2xl p-4 font-bold text-persianmosaic-500" x-text="dansehold.holdnavn"></h3>
								<div class="grid grid-cols-2 px-4 ">
									<div class="venstre">

										<div class="flex">
										<span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 pb-1 pr-1">
										<path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
										</svg> </span><span x-text="dansehold.tidspunkt"></span> 
										</div>
											

										<div class="flex"><span>
										<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 pr-1">
										<path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" /></svg>												  
										</span><span x-text="dansehold.alder"></span>
										</div>

										<div class="flex"><span>
										<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 pr-1">
										<path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" />
										</svg>
										</span><span x-text="dansehold.niveau"></span><p class="pl-1">Hold</p>
										</div>

									</div>
									
									<div class="hoejre">
										<div class="flex">
											<span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
											<path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
										  </svg>
										   </span><span class=" pl-2 pr-1" x-text="dansehold.pladserpaaholdet"></span> <p>Deltagere</p>
										</div>
										
										<div class="flex"><span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 ">
											<path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
										  </svg></span><span class="pl-2" x-text="dansehold.lokale"></span>
										</div>
									</div>
								</div>
								<p class="p-4" x-text="dansehold.holdbeskrivelse"></p>	
							</section>
							<hr />
							<section class="flex gap-4 p-4">
								<div class="flex-none"><img :src="dansehold.underviserfoto" :alt="dansehold.underviserfotoalt" class="rounded-full object-cover w-[80px] h-[80px] "></div>
								<div class="">
									<p class="font-semibold">Underviser: <span href="#" x-text=""></span></p>
									<p x-text="dansehold.underviserinfo"></p>
								</div>
							</section>
						</a>
					</article>
				</template>
			</section>
			<!-- slut på alt hvad der omhandler cards til dansehold -->
		</section>
	</div>
</MainLayout>